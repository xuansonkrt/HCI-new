"use strict";function InitCharterSearchPanel(){var n="1";$("#txtBoxPickUpTime").timepicker();$("#txtBoxReturnTime").timepicker();dispayOneWayMode();$('input:radio[name="CharterType"]').click(function(){resetError();$(this).val()=="1"?(n="1",dispayOneWayMode()):$(this).val()=="2"?(n="2",displayTwoWayMode()):(n="3",$("#txtBoxCharterDropOffLocation").val(""),displayPerHourMode())});$("#charterSearchForm .swap a").click(function(){var t,i,r,u,f,e;(n==="1"||n==="2")&&($("#txtBoxCharterPickUpLocation").val()==""||$("#txtBoxCharterDropOffLocation").val()==""?(TriggerShakeAnimation($(".search-wrap")),$("#txtBoxCharterPickUpLocation").addClass("is-error"),$("#txtBoxCharterDropOffLocation").addClass("is-error")):($("#txtBoxCharterPickUpLocation").removeClass("is-error"),$("#txtBoxCharterDropOffLocation").removeClass("is-error"),t=$("#txtBoxCharterPickUpLocation").val(),i=$("#txtBoxCharterDropOffLocation").val(),$("#txtBoxCharterPickUpLocation").val(i),$("#txtBoxCharterDropOffLocation").val(t)),$("#txtBoxCharterPickUpState").val()==""||$("#txtBoxCharterDropOffState").val()==""?(TriggerShakeAnimation($(".search-wrap")),$("#txtBoxCharterPickUpState").addClass("is-error"),$("#txtBoxCharterDropOffState").addClass("is-error")):($("#txtBoxCharterPickUpState").removeClass("is-error"),$("#txtBoxCharterDropOffState").removeClass("is-error"),r=$("#txtBoxCharterPickUpState").val(),u=$("#txtBoxCharterDropOffState").val(),$("#txtBoxCharterPickUpState").val(u),$("#txtBoxCharterDropOffState").val(r)),$("#txtBoxCharterPickUpCountry").val()==""||$("#txtBoxCharterDropOffCountry").val()==""?(TriggerShakeAnimation($(".search-wrap")),$("#txtBoxCharterPickUpCountry").addClass("is-error"),$("#txtBoxCharterDropOffCountry").addClass("is-error")):($("#txtBoxCharterPickUpCountry").removeClass("is-error"),$("#txtBoxCharterDropOffCountry").removeClass("is-error"),f=$("#txtBoxCharterPickUpCountry").val(),e=$("#txtBoxCharterDropOffCountry").val(),$("#txtBoxCharterPickUpCountry").val(e),$("#txtBoxCharterDropOffCountry").val(f)))});$("form#charterSearchForm").submit(function(t){var i=!0;if($("#locationError_charter").val(""),$("#txtBoxPickUpDate").val()==""?($("#txtBoxPickUpDate").addClass("is-error"),i=!1):$("#txtBoxPickUpDate").removeClass("is-error"),$("#txtBoxPickUpTime").val()==""?($("#txtBoxPickUpTime").addClass("is-error"),i=!1):$("#txtBoxPickUpTime").removeClass("is-error"),n=="1"||n=="2"){if($("#txtBoxCharterPickUpLocation").val()==""?($("#txtBoxCharterPickUpLocation").addClass("is-error"),i=!1):$("#txtBoxCharterPickUpLocation").removeClass("is-error"),$("#txtBoxCharterPickUpState").val()==""?($("#txtBoxCharterPickUpState").addClass("is-error"),i=!1):$("#txtBoxCharterPickUpState").removeClass("is-error"),$("#txtBoxCharterPickUpCountry").val()==""?($("#txtBoxCharterPickUpCountry").addClass("is-error"),i=!1):$("#txtBoxCharterPickUpCountry").removeClass("is-error"),$("#txtBoxCharterDropOffLocation").val()==""?($("#txtBoxCharterDropOffLocation").addClass("is-error"),i=!1):$("#txtBoxCharterDropOffLocation").removeClass("is-error"),$("#txtBoxCharterDropOffState").val()==""?($("#txtBoxCharterDropOffState").addClass("is-error"),i=!1):$("#txtBoxCharterDropOffState").removeClass("is-error"),$("#txtBoxCharterDropOffCountry").val()==""?($("#txtBoxCharterDropOffCountry").addClass("is-error"),i=!1):$("#txtBoxCharterDropOffCountry").removeClass("is-error"),n=="2"){$("#txtBoxReturnDate").val()==""?($("#txtBoxReturnDate").addClass("is-error"),i=!1):$("#txtBoxReturnDate").removeClass("is-error");$("#txtBoxReturnTime").val()==""?($("#txtBoxReturnTime").addClass("is-error"),i=!1):$("#txtBoxReturnTime").removeClass("is-error");var r=$("#txtBoxPickUpDate").datepicker("getDate"),u=$.datepicker.formatDate("mm/dd/yy",r),o=$("#txtBoxReturnDate").datepicker("getDate"),s=$.datepicker.formatDate("mm/dd/yy",o),f=$("#txtBoxPickUpTime").val(),h=$("#txtBoxReturnTime").val(),e=new Date(u+" "+f),c=new Date(s+" "+h),l=e.getTime(),a=c.getTime();a<=l?($("#txtBoxReturnDate").addClass("is-error"),$("#txtBoxReturnTime").addClass("is-error"),i=!1):($("#txtBoxReturnDate").removeClass("is-error"),$("#txtBoxReturnTime").removeClass("is-error"))}}else $("#txtBoxCharterPickUpLocation").val()==""?($("#txtBoxCharterPickUpLocation").addClass("is-error"),i=!1):$("#txtBoxCharterPickUpLocation").removeClass("is-error"),$("#txtBoxCharterPickUpState").val()==""?($("#txtBoxCharterPickUpState").addClass("is-error"),i=!1):$("#txtBoxCharterPickUpState").removeClass("is-error"),$("#txtBoxCharterPickUpCountry").val()==""?($("#txtBoxCharterPickUpCountry").addClass("is-error"),i=!1):$("#txtBoxCharterPickUpCountry").removeClass("is-error");var r=$("#txtBoxPickUpDate").datepicker("getDate"),u=$.datepicker.formatDate("mm/dd/yy",r),f=$("#txtBoxPickUpTime").val(),e=new Date(u+" "+f),v=Date.now()+864e5;e<v?(i=!1,$("#txtBoxPickUpDate").addClass("is-error"),$("#txtBoxPickUpTime").addClass("is-error"),$("#locationError_charter").text("*Pickup date must be 24 hours in advance")):($("#locationError_charter").text(""),$("#txtBoxPickUpDate").removeClass("is-error"),$("#txtBoxPickUpTime").removeClass("is-error"));i||t.preventDefault()})}function resetError(){$("#txtBoxCharterPickUpLocation").removeClass("is-error");$("#txtBoxCharterPickUpState").removeClass("is-error");$("#txtBoxCharterPickUpCountry").removeClass("is-error");$("#txtBoxCharterDropOffLocation").removeClass("is-error");$("#txtBoxCharterDropOffState").removeClass("is-error");$("#txtBoxCharterDropOffCountry").removeClass("is-error");$("#txtBoxPickUpDate").removeClass("is-error");$("#txtBoxPickUpTime").removeClass("is-error");$("#txtBoxReturnDate").removeClass("is-error");$("#txtBoxReturnTime").removeClass("is-error")}function dispayOneWayMode(){$("#dvSwap").show();$("#dvDropOff").show();$("#dvDropOffState").show();$("#dvDropOffCountry").show();$("#dvReturnDate").hide();$("#dvReturnTime").hide();$("#dvRentDuration").hide()}function displayTwoWayMode(){$("#dvSwap").show();$("#dvDropOff").show();$("#dvDropOffState").show();$("#dvDropOffCountry").show();$("#dvReturnDate").show();$("#dvReturnTime").show();$("#dvRentDuration").hide()}function displayPerHourMode(){$("#dvReturnDate").hide();$("#dvReturnTime").hide();$("#dvSwap").hide();$("#dvDropOff").hide();$("#dvDropOffState").hide();$("#dvDropOffCountry").hide();$("#dvRentDuration").show()}function TriggerShakeAnimation(n){n.addClass("error-shake");setTimeout(function(){n.removeClass("error-shake")},300)}var charterConstant={_searchPanelFormId:"#charterSearchForm",_submitFormId:"#FormCharterSubmit",_pickupLocationId:"#txtBoxCharterPickUpLocation",_dropoffLocationId:"#txtBoxCharterDropOffLocation",_swapLocationDivId:"#dvSwap",_pickupTimeId:"#txtBoxPickUpTime",_returnTimeId:"#txtBoxReturnTime"},charterGeneral={initialiseInvalidFormControlPriority:function(n){$(n).bind("invalid-form.validate",function(n,t){var i=t.numberOfInvalids();i&&t.errorList[0].element.focus()})}};$(document).ready(function(){InitCharterSearchPanel()})